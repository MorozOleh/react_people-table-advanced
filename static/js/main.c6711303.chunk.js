(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{38:function(e,t,a){e.exports=a(78)},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),m=a(4),o=a(1);function s(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement(m.b,{className:"navbar-item is-tab",activeClassName:"is-active",exact:!0,to:"/"},"Home"),r.a.createElement(m.b,{className:"navbar-item is-tab",activeClassName:"is-active",to:"/people"},"People"))}function u(){return r.a.createElement("h2",{className:"title"},"Home page")}var i=a(10),p=a(18),h=(a(47),a(8)),E=a.n(h);function b(e){var t=e.people,a=Object(o.i)().slug,n=t.find((function(e){return e.slug===a}));return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("ul",{className:"person__list"},r.a.createElement("li",null,"Name: ".concat(n.name)),r.a.createElement("li",null,"Sex: ".concat("f"===n.sex?"female":"male")),r.a.createElement("li",null,"Born: ".concat(n.born)),r.a.createElement("li",null,"Died: ".concat(n.died)),r.a.createElement("li",null,"Mother: ".concat(n.motherName)),r.a.createElement("li",null,"Father: ".concat(n.fatherName))))}function f(e){var t=e.people,a=Object(o.h)().search,c=new URLSearchParams(a),l=c.get("sortBy")||"",s=Object(n.useState)(t),u=Object(i.a)(s,2),h=u[0],f=u[1],d=Object(o.g)(),N=Object(o.j)("/people/:slug?").slug,v=Object(o.j)().url;Object(n.useEffect)((function(){switch(l){case"name":case"sex":f(Object(p.a)(h.sort((function(e,t){return e[l].localeCompare(t[l])}))));break;case"born":case"died":f(Object(p.a)(h.sort((function(e,t){return e[l]-t[l]}))));break;default:f(t)}}),[l,t]);var g=function(e){var t=h.find((function(t){return t.name===e}));return!!t&&{pathname:"".concat(v,"/").concat(t.slug),search:a}},j=function(e){c.set("sortBy",e),d.push("?".concat(c.toString()))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{path:"".concat(v,"/:slug")},r.a.createElement(b,{people:h})),r.a.createElement("table",{className:"table is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:E()({is_selected:"name"===l}),onClick:function(){return j("name")}},"Name"),r.a.createElement("th",{className:E()({is_selected:"sex"===l}),onClick:function(){return j("sex")}},"Sex"),r.a.createElement("th",{className:E()({is_selected:"born"===l}),onClick:function(){return j("born")}},"Born"),r.a.createElement("th",{className:E()({is_selected:"died"===l}),onClick:function(){return j("died")}},"Died"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"))),r.a.createElement("tbody",null,h.map((function(e){return r.a.createElement("tr",{key:e.slug,className:N===e.slug?"back":""},r.a.createElement("td",null,r.a.createElement(m.b,{to:{pathname:"".concat(v,"/").concat(e.slug),search:a},className:E()({man:"m"===e.sex,woman:"f"===e.sex})},e.name)),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",{className:E()({woman:h.some((function(t){return t.name===e.motherName}))})},g(e.motherName)?r.a.createElement(m.b,{to:g(e.motherName),className:"woman"},e.motherName):e.motherName),r.a.createElement("td",{className:E()({woman:h.some((function(t){return t.name===e.motherName}))})},g(e.fatherName)?r.a.createElement(m.b,{to:g(e.fatherName),className:"man"},e.fatherName):e.fatherName))})))))}var d=a(17),N=a.n(d),v=a(35),g=a(36),j=a.n(g),O=function(){var e=Object(v.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://mate-academy.github.io/react_people-table/api/people.json");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=a(37),x=a.n(w);function y(){var e=Object(o.g)(),t=Object(o.h)().search,a=new URLSearchParams(t),c=Object(n.useState)(a.get("query")||""),l=Object(i.a)(c,2),m=l[0],s=l[1],u=Object(n.useCallback)(x()((function(t){t?(a.delete("sortBy"),a.set("query",t)):a.delete("query"),e.push("?".concat(a.toString()))}),1e3),[]);return r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"label"},"User Name",r.a.createElement("input",{className:"input",type:"text",placeholder:"user name",value:m,onChange:function(e){var t=e.target.value;s(t),u(t)}})))))}function k(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(o.h)(),m=new URLSearchParams(l.search).get("query")||"",s=a;if(m){var u=m.toLowerCase();s=a.filter((function(e){return e.name.toLowerCase().includes(u)}))}return Object(n.useEffect)((function(){O().then(c)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title"},"People page"),r.a.createElement(y,null),a.length>0&&r.a.createElement(f,{people:s}))}function C(){return r.a.createElement("h2",null,"Page not found")}a(77);var S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:u}),r.a.createElement(o.b,{path:"/people",component:k}),r.a.createElement(o.b,{path:"/notfound",component:C}),r.a.createElement(o.a,{path:"/home",to:"/"}),r.a.createElement(o.a,{path:"/",to:"/notfound"}))))};l.a.render(r.a.createElement(m.a,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c6711303.chunk.js.map