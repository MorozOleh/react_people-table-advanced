(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{38:function(e,t,a){e.exports=a(78)},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),o=a(4),m=a(1);function s(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement(o.b,{className:"navbar-item is-tab",activeClassName:"is-active",exact:!0,to:"/"},"Home"),r.a.createElement(o.b,{className:"navbar-item is-tab",activeClassName:"is-active",to:"/people"},"People"))}function u(){return r.a.createElement("h2",{className:"title"},"Home page")}var i=a(10),p=a(18),h=(a(47),a(8)),E=a.n(h);function f(e){var t=e.people,a=Object(m.i)().slug,n=t.find((function(e){return e.slug===a}));return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("ul",{className:"person__list"},r.a.createElement("li",null,"Name: ".concat(n.name)),r.a.createElement("li",null,"Sex: ".concat("f"===n.sex?"female":"male")),r.a.createElement("li",null,"Born: ".concat(n.born)),r.a.createElement("li",null,"Died: ".concat(n.died)),r.a.createElement("li",null,"Mother: ".concat(n.motherName)),r.a.createElement("li",null,"Father: ".concat(n.fatherName))))}function b(e){var t=e.people,a=Object(m.h)().search,l=new URLSearchParams(a),c=l.get("sortBy")||"",s=Object(n.useState)(t),u=Object(i.a)(s,2),h=u[0],b=u[1],d=Object(m.g)(),N=Object(m.j)("/people/:slug?").slug,v=Object(m.j)().url;Object(n.useEffect)((function(){switch(c){case"name":case"sex":b(Object(p.a)(h.sort((function(e,t){return e[c].localeCompare(t[c])}))));break;case"born":case"died":b(Object(p.a)(h.sort((function(e,t){return e[c]-t[c]}))));break;default:b(t)}}),[c,t]);var g=function(e){var t=h.find((function(t){return t.name===e}));return!!t&&{pathname:"".concat(v,"/").concat(t.slug),search:a}},j=function(e){l.set("sortBy",e),d.push("?".concat(l.toString()))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{path:"".concat(v,"/:slug")},r.a.createElement(f,{people:h})),r.a.createElement("table",{className:"table is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:E()({people__sort:"name"===c}),onClick:function(){return j("name")}},"Name"),r.a.createElement("th",{className:E()({people__sort:"sex"===c}),onClick:function(){return j("sex")}},"Sex"),r.a.createElement("th",{className:E()({people__sort:"born"===c}),onClick:function(){return j("born")}},"Born"),r.a.createElement("th",{className:E()({people__sort:"died"===c}),onClick:function(){return j("died")}},"Died"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"))),r.a.createElement("tbody",null,h.map((function(e){return r.a.createElement("tr",{key:e.slug,className:N===e.slug?"back":""},r.a.createElement("td",null,r.a.createElement(o.b,{to:{pathname:"".concat(v,"/").concat(e.slug),search:a},className:E()({man:"m"===e.sex,woman:"f"===e.sex})},e.name)),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",{className:E()({woman:h.some((function(t){return t.name===e.motherName}))})},g(e.motherName)?r.a.createElement(o.b,{to:g(e.motherName),className:"woman"},e.motherName):e.motherName),r.a.createElement("td",{className:E()({woman:h.some((function(t){return t.name===e.motherName}))})},g(e.fatherName)?r.a.createElement(o.b,{to:g(e.fatherName),className:"man"},e.fatherName):e.fatherName))})))))}var d=a(17),N=a.n(d),v=a(35),g=a(36),j=a.n(g),O=function(){var e=Object(v.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://mate-academy.github.io/react_people-table/api/people.json");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=a(37),x=a.n(w);function y(){var e=Object(m.g)(),t=Object(m.h)().search,a=new URLSearchParams(t),l=Object(n.useState)(a.get("query")||""),c=Object(i.a)(l,2),o=c[0],s=c[1],u=Object(n.useCallback)(x()((function(t){t?(a.delete("sortBy"),a.set("query",t)):a.delete("query"),e.push("?".concat(a.toString()))}),1e3),[]);return r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"label"},"User Name",r.a.createElement("input",{className:"input",type:"text",placeholder:"user name",value:o,onChange:function(e){var t=e.target.value;s(t),u(t)}})))))}function _(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(m.h)(),o=new URLSearchParams(c.search).get("query")||"",s=a;if(o){var u=o.toLowerCase();s=a.filter((function(e){return e.name.toLowerCase().includes(u)}))}return Object(n.useEffect)((function(){O().then(l)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title"},"People page"),r.a.createElement(y,null),a.length>0&&r.a.createElement(b,{people:s}))}function k(){return r.a.createElement("h2",null,"Page not found")}a(77);var C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"App"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:u}),r.a.createElement(m.b,{path:"/people",component:_}),r.a.createElement(m.b,{path:"/notfound",component:k}),r.a.createElement(m.a,{path:"/home",to:"/"}),r.a.createElement(m.a,{path:"/",to:"/notfound"}))))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.9987e710.chunk.js.map