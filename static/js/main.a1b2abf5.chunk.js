(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{38:function(e,a,t){e.exports=t(78)},77:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(33),c=t.n(l),m=t(4),o=t(1);function s(e){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement(m.b,{className:"navbar-item is-tab",activeClassName:"is-active",exact:!0,to:"/"},"Home"),r.a.createElement(m.b,{className:"navbar-item is-tab",activeClassName:"is-active",to:"/people"},"People"))}function u(e){return r.a.createElement("h2",{className:"title"},"Home page")}var i=t(10),p=t(18),h=(t(47),t(8)),E=t.n(h);function f(e){var a=e.people,t=Object(o.i)(),n=a.find((function(e){return e.slug===t.params.slug}));return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("ul",{className:"person__list"},r.a.createElement("li",null,"Name: ".concat(n.name)),r.a.createElement("li",null,"Sex: ".concat("f"===n.sex?"famale":"male")),r.a.createElement("li",null,"Born:: ".concat(n.born)),r.a.createElement("li",null,"Died: ".concat(n.died)),r.a.createElement("li",null,"Mother: ".concat(n.motherName)),r.a.createElement("li",null,"Father: ".concat(n.fatherName))))}function b(e){var a=e.people,t=e.slug,l=e.searchParams,c=l.get("sortBy")||"",s=Object(n.useState)(a),u=Object(i.a)(s,2),h=u[0],b=u[1];Object(n.useEffect)((function(){switch(c){case"name":case"sex":b(Object(p.a)(h.sort((function(e,a){return e[c].localeCompare(a[c])}))));break;case"born":case"died":b(Object(p.a)(h.sort((function(e,a){return e[c]-a[c]}))));break;default:b(a)}}),[c,a]);var d=Object(o.i)(),N=Object(o.g)(),g=Object(o.h)().search,v=function(e){var a=h.find((function(a){return a.name===e}));return!!a&&{pathname:"".concat(d.url,"/").concat(a.slug),search:g}},j=function(e){l.set("sortBy",e),N.push("?".concat(l.toString()))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{path:"".concat(d.path,"/:slug")},r.a.createElement(f,{people:h})),r.a.createElement("table",{className:"table is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:E()({people__sort:"name"===c}),onClick:function(){return j("name")}},"Name"),r.a.createElement("th",{className:E()({people__sort:"sex"===c}),onClick:function(){return j("sex")}},"Sex"),r.a.createElement("th",{className:E()({people__sort:"born"===c}),onClick:function(){return j("born")}},"Born"),r.a.createElement("th",{className:E()({people__sort:"died"===c}),onClick:function(){return j("died")}},"Died"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"))),r.a.createElement("tbody",null,h.map((function(e){return r.a.createElement("tr",{key:e.slug,className:t===e.slug?"back":""},r.a.createElement("td",null,r.a.createElement(m.b,{to:{pathname:"".concat(d.url,"/").concat(e.slug),search:g},className:E()({man:"m"===e.sex,woman:"f"===e.sex})},e.name)),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",{className:E()({woman:h.some((function(a){return a.name===e.motherName}))})},v(e.motherName)?r.a.createElement(m.b,{to:v(e.motherName),className:"woman"},e.motherName):e.motherName),r.a.createElement("td",{className:E()({woman:h.some((function(a){return a.name===e.motherName}))})},v(e.fatherName)?r.a.createElement(m.b,{to:v(e.fatherName),className:"man"},e.fatherName):e.fatherName))})))))}b.defaultProps={slug:""};var d=t(17),N=t.n(d),g=t(35),v=t(36),j=t.n(v),O=function(){var e=Object(g.a)(N.a.mark((function e(){var a,t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://mate-academy.github.io/react_people-table/api/people.json");case 3:return a=e.sent,t=a.data,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=t(37),x=t.n(w);function y(e){var a=e.searchParams,t=Object(n.useState)(a.get("query")||""),l=Object(i.a)(t,2),c=l[0],m=l[1],s=Object(o.g)(),u=Object(n.useCallback)(x()((function(e){e?(a.delete("sortBy"),a.set("query",e)):a.delete("query"),s.push("?".concat(a.toString()))}),1e3),[]);return r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"label"},"User Name",r.a.createElement("input",{className:"input",type:"text",placeholder:"user name",value:c,onChange:function(e){var a=e.target.value;m(a),u(a)}})))))}function _(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(o.h)(),m=Object(o.i)("/people/:slug?").params.slug,s=new URLSearchParams(c.search),u=s.get("query")||"",p=t;if(u){var h=u.toLowerCase();p=t.filter((function(e){return e.name.toLowerCase().includes(h)}))}return Object(n.useEffect)((function(){O().then(l)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title"},"People page"),r.a.createElement(y,{searchParams:s}),t.length>0&&r.a.createElement(b,{people:p,slug:m,searchParams:s}))}function k(e){return r.a.createElement("h2",null,"Page not found")}t(77);var C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/people",component:_}),r.a.createElement(o.b,{path:"/",exact:!0,render:function(e){return r.a.createElement(u,e)}}),r.a.createElement(o.b,{path:"/notfound",component:k}),r.a.createElement(o.a,{path:"/home",to:"/"}),r.a.createElement(o.a,{path:"/",to:"/notfound"}))))};c.a.render(r.a.createElement(m.a,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a1b2abf5.chunk.js.map